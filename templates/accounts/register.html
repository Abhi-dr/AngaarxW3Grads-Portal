{% extends 'home/base.html' %}
{% load static %}

{% block title %}
#ANGAARI_HAI | Registerüî•
{% endblock %}

{% block css %}
<link rel="stylesheet" href="{% static 'css/accounts/register.css' %}">
<link rel="stylesheet" href="{% static 'css/home/css/index.css' %}">

<script src="https://www.google.com/recaptcha/api.js" async defer></script>

<style>
  .recaptcha-wrapper {
  display: flex;
  justify-content: center;
  margin: 20px 0;
  padding: 16px;
  border-radius: 12px;
  background: #202020;
  border: 1px solid #e0e0e0;
}

</style>

<link
  href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;900&family=Poppins:wght@300;500;600;700&display=swap"
  rel="stylesheet">

<!-- Google reCAPTCHA -->
<script src="https://www.google.com/recaptcha/api.js" async defer></script>


{% endblock %}

{% block body %}
<div id="bg-wrap" aria-hidden="true">
  <canvas id="fire-canvas"></canvas>
  <div class="pattern-overlay"></div>
</div>

<div class="register-main-wrapper">
  <div class="register-content">
    <section class="hero fade-in">
      <div class="kicker">üöÄ Join The Movement</div>
      <h1 class="hero-title">IGNITE YOUR CODING JOURNEY</h1>
      <p class="lead-text">Join a community that turns curiosity into mastery through hands-on projects, mentor-led
        sessions, interview practice and placement guidance.</p>

      <div class="hero-stats">
        <div class="stat-badge">üöÄ 20000+ Graduates</div>
        <div class="stat-badge">üèÜ Placement-Ready</div>
        <div class="stat-badge">üî• Live Projects</div>
      </div>
    </section>
    <!-- Hero Section -->

    <!-- Registration Card -->
    <div class="register-card fade-in delay-1">
      <div class="card-title">Step Forward To Learn and Earn</div>
      <div class="card-subtitle">Seekhna Hai, Seekh! Jeetna Hai, Jeet!</div>

      <a href="/accounts/social/google/login/" class="google-btn">
        <svg class="google-icon" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
          <path fill="#EA4335"
            d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z">
          </path>
          <path fill="#4285F4"
            d="M46.98 24.55c0-1.57-.15-3.09-.42-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z">
          </path>
          <path fill="#FBBC05"
            d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z">
          </path>
          <path fill="#34A853"
            d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z">
          </path>
          <path fill="none" d="M0 0h48v48H0z"></path>
        </svg>
        Sign up with Google
      </a>

      <div class="divider">
        <span>OR</span>
      </div>

      <!-- Django Messages -->
      {% if messages %}
      <div class="messages-container">
        {% for message in messages %}
        <div class="alert {{ message.tags }}" role="alert">
          <strong>{{ message.tags|title }}:</strong> {{ message }}
        </div>
        {% endfor %}
      </div>
      {% endif %}

      <!-- Registration Form -->
      <form method="post" role="form" novalidate data-check-username-url="{% url 'check_username_availability' %}"
        data-check-email-url="{% url 'check_email_availability' %}">
        {% csrf_token %}

        <div class="form-group">
          <label for="username" class="form-label required">Username</label>
          <input type="text" class="form-input" id="username" name="username" placeholder="Enter your username"
            maxlength="30" minlength="4" required>
          <div id="username-feedback" class="feedback"></div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="first_name" class="form-label required">First Name</label>
            <input type="text" class="form-input" name="first_name" maxlength="30"
              placeholder="Enter your First name..." required>
          </div>

          <div class="form-group">
            <label for="last_name" class="form-label">Last Name</label>
            <input type="text" class="form-input" name="last_name" maxlength="20" placeholder="Enter your Last name...">
          </div>
        </div>

        <div class="form-group">
          <label for="email" class="form-label required">Email Address</label>
          <input type="email" class="form-input" name="email" id="email" maxlength="60" required
            placeholder="Enter your Email here...">
          <div id="email-feedback" class="feedback"></div>
        </div>

        <div class="password-row">
          <div class="form-group">
            <label for="password" class="form-label required">Password</label>
            <div class="password-input-wrapper">
              <input type="password" class="form-input" name="password" id="password" minlength="8" required
                placeholder="Enter your Password...">
              <button type="button" class="password-toggle" data-target="password"
                aria-label="Toggle password visibility">
                <svg class="eye-icon eye-open" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                  <circle cx="12" cy="12" r="3"></circle>
                </svg>
                <svg class="eye-icon eye-closed" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                  style="display:none;">
                  <path
                    d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24">
                  </path>
                  <line x1="1" y1="1" x2="23" y2="23"></line>
                </svg>
              </button>
            </div>
          </div>

          <div class="form-group">
            <label for="confirm_password" class="form-label required">Confirm Password</label>
            <input type="password" class="form-input" name="confirm_password"
              placeholder="Enter the same password again..." id="confirm-password" required>
            <div id="password-match" class="password-match-error">Passwords do not match!</div>
          </div>

        </div>
        <!-- Password Requirements Checklist -->
        <div id="password-checklist" class="password-checklist text-white">
          <div class="checklist-item" id="req-length">
            <span class="icon">‚óã</span> 8+ Characters
          </div>
          <div class="checklist-item" id="req-uppercase">
            <span class="icon">‚óã</span> Uppercase Letter (A-Z)
          </div>
          <div class="checklist-item" id="req-lowercase">
            <span class="icon">‚óã</span> Lowercase Letter (a-z)
          </div>
          <div class="checklist-item" id="req-number">
            <span class="icon">‚óã</span> Number (0-9)
          </div>
          <div class="checklist-item" id="req-special">
            <span class="icon">‚óã</span> Special Character (!@#...)
          </div>
        </div>


        <div class="recaptcha-wrapper">
          <div 
            class="g-recaptcha"
            data-sitekey="{{ RECAPTCHA_SITE_KEY }}"
            data-theme="dark">
          </div>
        </div>


        <button type="submit" class="submit-btn" id="signup-button" disabled>Register</button>

        <div class="divider">
          <span>OR</span>
        </div>

        <a href="/accounts/social/google/login/" class="google-btn">
          <svg class="google-icon" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
            <path fill="#EA4335"
              d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z">
            </path>
            <path fill="#4285F4"
              d="M46.98 24.55c0-1.57-.15-3.09-.42-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z">
            </path>
            <path fill="#FBBC05"
              d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z">
            </path>
            <path fill="#34A853"
              d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z">
            </path>
            <path fill="none" d="M0 0h48v48H0z"></path>
          </svg>
          Sign up with Google
        </a>

        <div class="login-link">
          Already an <span class="angaari-highlight"
            title="Angaari is a Hindi word meaning 'fiery' or 'burning'">Angaari?</span>
          <a href="{% url 'login' %}">Login</a>
        </div>
      </form>
    </div>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script src="{% static 'js/accounts.js' %}"></script>
{% endblock %}